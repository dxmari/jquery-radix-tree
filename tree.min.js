!function(e){"object"==typeof module&&module.exports?module.exports=e:e(window.jQuery)}(function(e){const a=[{label:"Universe",open:!0,checked:!1,children:[{label:"Galaxies",open:!0,checked:!1,children:[{label:"Milky Way",open:!1,checked:!1,children:[{label:"Solar System",open:!1,checked:!1,children:[{label:"Planets",open:!1,checked:!1,lazy:!0},{label:"Asteroid Belt",open:!1,checked:!1,lazy:!0}]},{label:"Alpha Centauri System",open:!1,checked:!1,lazy:!0}]},{label:"Andromeda",open:!1,checked:!1,lazy:!0}]},{label:"Black Holes",open:!1,checked:!1,children:[{label:"Supermassive",open:!1,checked:!1,lazy:!0},{label:"Stellar-mass",open:!1,checked:!1,lazy:!0}]},{label:"Nebulae",open:!1,checked:!1,lazy:!0}]},{label:"Multiverse",open:!1,checked:!1,children:[{label:"Parallel Universe 1",checked:!1,lazy:!0},{label:"Parallel Universe 2",open:!1,checked:!1,lazy:!0}]}];function t(e,a){e.checked=a,e.indeterminate=!1,e.children&&e.children.length&&e.children.forEach(e=>t(e,a))}function l(e,a){if(!a)return;const t=a.children.every(e=>e.checked),l=a.children.every(e=>!e.checked&&!e.indeterminate);t?(a.checked=!0,a.indeterminate=!1):l?(a.checked=!1,a.indeterminate=!1):(a.checked=!1,a.indeterminate=!0)}let n=0;function c(e,a=[],t={},l=null){return e.forEach((e,n)=>{const d="radix-tree-checkbox-"+[...a,n].join("-");e._radixId=d,e._radixParentId=l,t[d]=e,e.children&&e.children.length&&c(e.children,[...a,n],t,d)}),t}function d(a,t,l,n,r,o){!0!==a.open||!a.lazy&&!a.infinite||a._lazyLoaded||"function"!=typeof t.lazyLoad||(a._loading=!0,t.lazyLoad(a,function(n,d){if(a.children=n,a._lazyLoaded=!0,a._loading=!1,a.hasMore=!1!==d,a._page=2,o&&o.length){o.empty(),c(t.data);const a=e('<div class="radix-tree"></div>');a.append(i(t.data,l,null,[],t,{},o)),o.append(a)}},{page:1,pageSize:a.pageSize||t.pageSize},t.lazyLoadDelay)),a.children&&a.children.length&&a.children.forEach((e,a)=>{d(e,t,l,[...n,a],r,o)})}function i(a,d,o=null,s=[],h={},p={},u,k=!1){const y=document.createElement("ul");return y.className="tree",o&&o.infinite&&h.pageSize>=h.paginateThreshold&&o.children&&o.children.length>=h.pageSize&&(h.pageSize<10?y.style.maxHeight=32*h.pageSize+"px":y.style.maxHeight="300px",y.style.overflowY="auto",y.setAttribute("data-infinite","true"),setTimeout(()=>{y._infiniteScrollAttached||(y._infiniteScrollAttached=!0,y.addEventListener("scroll",function(){if(!o._loadingMore&&y.scrollTop+y.clientHeight>=y.scrollHeight-40&&o.hasMore&&"function"==typeof h.lazyLoad){o._loadingMore=!0;const a=document.createElement("li");a.textContent="Loading...",a.className="radix-tree-loading",y.appendChild(a);y.scrollTop;h.lazyLoad(o,function(t,l){y.contains(a)&&y.removeChild(a),o.children||(o.children=[]),o.children=o.children.concat(t),o.hasMore=!1!==l,o._loadingMore=!1;const n=e(y).closest(".radix-tree");if(n.length){const a=y.parentNode;if(a&&"DETAILS"===a.tagName){const e=y.scrollTop;a.removeChild(y);const t=i(o.children,d,(o.infinite,o),s,h,p,n);a.appendChild(t),t.scrollTop=e}else{n.empty(),c(h.data);const a=e('<div class="radix-tree"></div>');a.append(i(h.data,d,null,[],h,{},n)),n.append(a)}}},{page:o._page||1,pageSize:o.pageSize||h.pageSize},h.lazyLoadDelay),o._page=(o._page||1)+1}}))},0)),a.forEach((a,b)=>{const m=document.createElement("li");a.className&&(a.children&&a.children.length||a.lazy,m.classList.add(a.className));const g=!!a.disabled||!!k,f=function(e){return"radix-tree-checkbox-"+e.join("-")+"-"+n++}([...s,b]);a._radixId="radix-tree-checkbox-"+[...s,b].join("-"),p[a._radixId]=a;const x=document.createElement("input");x.type="checkbox",x.id=f,x.checked=!!a.checked,x.indeterminate=!!a.indeterminate,x.tabIndex=0,x.style.position="absolute",x.style.opacity=0,x.style.width="1.2em",x.style.height="1.2em",x.style.margin=0,x.style.zIndex=2,g&&(x.disabled=!0),x.addEventListener("change",function(n){if(n.stopPropagation(),t(a,x.checked),o){l(0,o);let e=o,a=p[e._radixParentId];for(;a;)l(0,a),e=a,a=p[e._radixParentId]}let r=e(".radix-tree-parent");if(r.length){const a=r.data("radixTreeSettings");r.empty(),c(a.data);const t=e('<div class="radix-tree"></div>');t.append(i(a.data,d,null,[],a,{},r)),r.append(t)}d.onCheck&&d.onCheck(a,x)}),x.addEventListener("keydown",function(e){r(e,x,m)}),m.appendChild(x);const v=document.createElement("span");function z(){x.checked?v.classList.add("checked"):v.classList.remove("checked"),x.indeterminate?v.classList.add("indeterminate"):v.classList.remove("indeterminate"),x.disabled?v.classList.add("disabled"):v.classList.remove("disabled"),document.activeElement===x?v.classList.add("focus"):v.classList.remove("focus")}v.className="radix-checkbox-svg",v.innerHTML='\n        <svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="box">\n          <rect x="3" y="3" width="18" height="18" rx="4" fill="#fff" stroke="#bbb" stroke-width="2"/>\n          <path class="checkmark" d="M7 13l3 3 7-7" fill="none" stroke="#4caf50" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>\n          <rect class="indeterminate-bar" x="6" y="11" width="12" height="2.5" rx="1.2" fill="#ffc107"/>\n        </svg>\n      ',x.addEventListener("change",z),x.addEventListener("focus",z),x.addEventListener("blur",z),z(),v.addEventListener("click",function(e){x.disabled||(x.focus(),x.click())}),m.appendChild(v);const C=document.createElement("label");if(C.setAttribute("for",f),C.textContent=a.label,C.style.marginLeft="0.5em",C.tabIndex=0,g&&(C.classList.add("disabled"),C.style.cursor="not-allowed"),C.addEventListener("keydown",function(e){r(e,C,m)}),a.children&&a.children.length||a.lazy||C.addEventListener("click",e=>{e.stopPropagation(),d.onClick&&d.onClick(a,C)}),m.appendChild(C),void 0!==a.badge){const e=document.createElement("span");e.className="radix-tree-badge",e.textContent=a.badge,e.setAttribute("aria-label","Badge: "+a.badge),e.style.marginLeft="0.5em",e.style.background="#eee",e.style.borderRadius="10px",e.style.padding="0 0.5em",e.style.fontSize="0.85em",e.style.color="#333",e.style.display="inline-block",e.style.verticalAlign="middle",m.appendChild(e)}if(Array.isArray(a.tags)&&a.tags.forEach(e=>{const a=document.createElement("span");a.className="radix-tree-tag",a.textContent=e,a.setAttribute("aria-label","Tag: "+e),a.style.marginLeft="0.3em",a.style.background="#cce5ff",a.style.borderRadius="6px",a.style.padding="0 0.4em",a.style.fontSize="0.8em",a.style.color="#0056b3",a.style.display="inline-block",a.style.verticalAlign="middle",m.appendChild(a)}),a.children&&a.children.length||a.lazy){const t=document.createElement("details");!0===a.open&&(t.open=!0);const l=document.createElement("summary");if(l.tabIndex=0,l.addEventListener("keydown",function(e){r(e,l,m)}),l.addEventListener("click",n=>{n.stopPropagation(),setTimeout(()=>{if(a.open=t.open,t.open&&a.lazy&&!a._lazyLoaded&&"function"==typeof h.lazyLoad){a.children||(a.children=[]),a._loading=!0;let t=e(".radix-tree-parent");if(t.length){t.empty(),c(h.data);const a=e('<div class="radix-tree"></div>');a.append(i(h.data,d,null,[],h,{},t)),t.append(a)}h.lazyLoad(a,function(l,n){if(a.children=l,a._lazyLoaded=!0,a._loading=!1,a.hasMore=!1!==n,a._page=2,t.length){t.empty(),c(h.data);const a=e('<div class="radix-tree"></div>');a.append(i(h.data,d,null,[],h,{},t)),t.append(a)}},{page:1,pageSize:a.pageSize||h.pageSize},h.lazyLoadDelay)}},0),t.open?d.onExpand&&d.onExpand(a,t):d.onCollapse&&d.onCollapse(a,t),d.onClick&&d.onClick(a,l)}),t.appendChild(l),a._loading){const e=document.createElement("li");e.textContent="Loading...",t.appendChild(document.createElement("ul")).appendChild(e)}else a.children&&a.children.length&&t.appendChild(i(a.children,d,(a.infinite,a),[...s,b],h,p,u,g));m.appendChild(t)}y.appendChild(m)}),o&&o.infinite&&h.pageSize>=h.paginateThreshold&&o.children&&o.children.length>=h.pageSize&&y.lastElementChild&&(y.lastElementChild.style.paddingBottom=32/3+"px"),y}function r(a,t,l){let n=e(l).closest(".radix-tree-parent");if(n.length||(n=e(l).parent()),!n.length)return;const c=e(n).find('[tabindex="0"]:visible').toArray();const d=c.indexOf(t);if("ArrowDown"===a.key)a.preventDefault(),d<c.length-1&&c[d+1].focus();else if("ArrowUp"===a.key)a.preventDefault(),d>0&&c[d-1].focus();else if("ArrowRight"===a.key){const e=l.querySelector("details");if(e&&!e.open){a.preventDefault(),e.open=!0;const t=e.querySelector("summary");t&&t.click()}}else if("ArrowLeft"===a.key){const e=l.querySelector("details");if(e&&e.open){a.preventDefault(),e.open=!1;const t=e.querySelector("summary");t&&t.click()}}else" "!==a.key&&"Enter"!==a.key||(a.preventDefault(),"INPUT"===t.tagName&&"checkbox"===t.type?(t.checked=!t.checked,t.dispatchEvent(new Event("change",{bubbles:!0}))):("SUMMARY"===t.tagName||"LABEL"===t.tagName)&&t.click())}e.fn.radixTree=function(r){if("string"==typeof r){const a=r,n=Array.prototype.slice.call(arguments,1),d=this.first(),o=d.data("radixTreeSettings");if(!o)return;const s=c(o.data);switch(a){case"getChecked":const a=[];return function e(t){t.forEach(t=>{t.checked&&a.push({id:t._radixId,label:t.label,node:t}),t.children&&e(t.children)})}(o.data),a;case"setChecked":{const[a,r]=n,h=s[a];if(h){t(h,r),function e(a){if(!a._radixParentId)return;const t=s[a._radixParentId];t&&(l(0,t),e(t))}(h),d.empty(),c(o.data);const a=e('<div class="radix-tree"></div>');a.append(i(o.data,o.callbacks,null,[],o,{},d)),d.append(a)}return}case"expand":{const[a]=n,t=s[a];if(t){t.open=!0,d.empty(),c(o.data);const a=e('<div class="radix-tree"></div>');a.append(i(o.data,o.callbacks,null,[],o,{},d)),d.append(a)}return}case"collapse":{const[a]=n,t=s[a];if(t){t.open=!1,d.empty(),c(o.data);const a=e('<div class="radix-tree"></div>');a.append(i(o.data,o.callbacks,null,[],o,{},d)),d.append(a)}return}case"getData":return o.data;case"setData":{const[a]=n;o.data=a,d.empty(),c(o.data);const t=e('<div class="radix-tree"></div>');return t.append(i(o.data,o.callbacks,null,[],o,{},d)),void d.append(t)}}return}const o=e.extend({data:a,onExpand:null,onCollapse:null,onClick:null,onCheck:null,lazyLoadDelay:1e3,pageSize:20,lazyLoad:function(e,a){setTimeout(function(){let t=[];switch(e.label){case"Planets":t=[{label:"Mercury",checked:!1},{label:"Venus",checked:!1},{label:"Earth",open:!1,checked:!1,lazy:!0},{label:"Mars",checked:!1},{label:"Jupiter",checked:!1},{label:"Saturn",checked:!1},{label:"Uranus",checked:!1},{label:"Neptune",checked:!1}];break;case"Asteroid Belt":t=[{label:"Ceres",checked:!1},{label:"Vesta",checked:!1},{label:"Pallas",checked:!1},{label:"Hygiea",checked:!1}];break;case"Alpha Centauri System":t=[{label:"Alpha Centauri A",checked:!1},{label:"Alpha Centauri B",checked:!1},{label:"Proxima Centauri",checked:!1}];break;case"Andromeda":t=[{label:"Star System 1",checked:!1},{label:"Star System 2",checked:!1}];break;case"Supermassive":t=[{label:"Sagittarius A*",checked:!1},{label:"M87*",checked:!1}];break;case"Stellar-mass":t=[{label:"Cygnus X-1",checked:!1},{label:"V404 Cygni",checked:!1}];break;case"Nebulae":t=[{label:"Orion Nebula",checked:!1},{label:"Crab Nebula",checked:!1},{label:"Eagle Nebula",checked:!1}];break;case"Earth":t=[{label:"Moon",checked:!1},{label:"ISS",checked:!1}];break;case"Parallel Universe 1":case"Parallel Universe 2":t=[{label:"Alt Galaxy",checked:!1,lazy:!0}];break;case"Alt Galaxy":t=[{label:"Alt Solar System",checked:!1,lazy:!0}];break;case"Alt Solar System":t=[{label:"Alt Earth",checked:!1,lazy:!0}];break;case"Alt Earth":t=[{label:"Alt Moon",checked:!1},{label:"Alt Mars",checked:!1}];break;default:t=[{label:"Loading complete",checked:!1}]}a(t)},o.lazyLoadDelay)}},r);return void 0===o.paginateThreshold&&(o.paginateThreshold=Math.min(10,o.pageSize)),o.callbacks={onExpand:o.onExpand,onCollapse:o.onCollapse,onClick:o.onClick,onCheck:o.onCheck},this.each(function(){const a=e(this);a.empty(),a.addClass("radix-tree-parent"),o.rootClassName&&a.addClass(o.rootClassName),a.data("radixTreeSettings",o),n=0;const t=c(o.data);o.data.forEach((e,l)=>{d(e,o,o.callbacks,[l],t,a)});const l=e('<div class="radix-tree"></div>');l.append(i(o.data,o.callbacks,null,[],o,t,a)),a.append(l)})}});