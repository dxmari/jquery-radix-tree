(function(factory){if(typeof module==="object"&&module.exports){module.exports=factory}else{if(!document.getElementById("radix-tree-styles")){var style=document.createElement("style");style.id="radix-tree-styles";style.textContent=`
/* --- tree.css --- */
:root {
  --width: 12;
  --rounding: 4px;
  --accent: #696;
  --dark-grey: #ddd;
  --grey: #eee;
  --light-grey: #f8f8f8;
  --checkbox-size: 1.2em;
  --checkbox-border: 2px solid #bbb;
  --checkbox-radius: 6px;
  --checkbox-shadow: 0 1px 2px rgba(0,0,0,0.07);
  --checkbox-checked-bg: #4caf50;
  --checkbox-checked-border: 2px solid #388e3c;
  --checkbox-indeterminate-bg: #ffc107;
  --checkbox-indeterminate-border: 2px solid #ffa000;
}

.radix-tree{
  line-height: 1.5;
  -webkit-text-size-adjust: none;
  text-size-adjust: none;
}

.radix-tree .tree {
 --spacing: 1.5rem;
 --radius: 10px;
}

.radix-tree .tree li {
 display: block;
 position: relative;
 padding-left: calc(2 * var(--spacing) - var(--radius) - 2px);
}

.radix-tree .tree ul {
 margin-left: calc(var(--radius) - var(--spacing));
 padding-left: 0;
}

.radix-tree .tree ul li {
 border-left: 2px solid #ddd;
}

.radix-tree .tree ul li:last-child {
 border-color: transparent;
}

.radix-tree .tree ul li::before {
 content: '';
 display: block;
 position: absolute;
 top: calc(var(--spacing) / -2);
 left: -2px;
 width: calc(var(--spacing) + 2px);
 height: calc(var(--spacing) + 1px);
 border: solid #ddd;
 border-width: 0 0 2px 2px;
}

.radix-tree .tree summary {
 display: block;
 cursor: pointer;
}

.radix-tree .tree summary::marker,
.radix-tree .tree summary::-webkit-details-marker {
 display: none;
}

.radix-tree .tree summary:focus {
 outline: none;
}

.radix-tree .tree summary:focus-visible {
 outline: 1px dotted #000;
}

.radix-tree .tree li::after,
.radix-tree .tree summary::before {
 content: '';
 display: block;
 position: absolute;
 top: calc(var(--spacing) / 2 - var(--radius));
 left: calc(var(--spacing) - var(--radius) - 1px);
 width: calc(2 * var(--radius));
 height: calc(2 * var(--radius));
 border-radius: 50%;
 background: #ddd;
 margin-top: 0px;
}

.radix-tree .tree summary::before {
 z-index: 1;
 background: #696 url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSIyMCI+CiAgPGcgZmlsbD0iI2ZmZiI+CiAgICA8cGF0aCBkPSJtNSA5aDR2LTRoMnY0aDR2MmgtNHY0aC0ydi00aC00eiIvPgogICAgPHBhdGggZD0ibTI1IDloMTB2MmgtMTB6Ii8+CiAgPC9nPgo8L3N2Zz4=') 0 0;
}

.radix-tree .tree details[open] > summary::before {
 background-position: calc(-2 * var(--radius)) 0;
}

/* Hide native checkbox for SVG UI */
.radix-tree input[type="checkbox"] {
  position: absolute;
  opacity: 0;
  width: 1.2em;
  height: 1.2em;
  margin: 10px 0 0 5px !important;
  cursor: pointer;
  z-index: 2;
}

/* SVG Checkbox UI */
.radix-checkbox-svg {
  display: inline-block;
  width: 1.4em;
  height: 1.4em;
  vertical-align: middle;
  margin-right: 0m;
  cursor: pointer;
  position: relative;
  transition: box-shadow 0.2s;
  border-radius: 4px;
  margin-top: -4px;
}
.radix-checkbox-svg svg {
  width: 100%;
  height: 100%;
  display: block;
}
.radix-checkbox-svg .box {
  pointer-events: none;
}
.radix-checkbox-svg .checkmark {
  stroke-dasharray: 20;
  stroke-dashoffset: 20;
  opacity: 0;
  transition: stroke-dashoffset 0.25s cubic-bezier(.4,2,.6,1), opacity 0.18s;
}
.radix-checkbox-svg.checked .checkmark {
  stroke-dashoffset: 0;
  stroke: #ffffff;
  opacity: 1;
}
.radix-checkbox-svg .indeterminate-bar {
  opacity: 0;
  transform: scaleX(0);
  transition: opacity 0.18s, transform 0.18s cubic-bezier(.4,2,.6,1);
}
.radix-checkbox-svg.indeterminate .indeterminate-bar {
  opacity: 1;
  transform: scaleX(1);
  fill: #ffffff !important;
}
.radix-checkbox-svg.checked .box rect {
  fill: #4caf50;
  stroke: #388e3c;
}
.radix-checkbox-svg.indeterminate .box rect {
  fill: #ffc107;
  stroke: #ffa000;
}
.radix-checkbox-svg.disabled .box rect {
  fill: #dcd2d2;
  stroke: #dcd2d2;
}
.radix-checkbox-svg.disabled {
  opacity: 0.95;
  cursor: not-allowed;
}
.radix-checkbox-svg.focus {
  box-shadow: 0 0 0 3px #b2dfdb, 2px 2px 6px #e0e0e0, -2px -2px 6px #ffffff;
}

/* Disabled State */
.radix-tree input[type="checkbox"]:disabled {
  background: #f0f0f0;
  border: 2px solid #e0e0e0;
  box-shadow: none;
  cursor: not-allowed;
  opacity: 0.7;
}
.radix-tree input[type="checkbox"]:disabled + label {
  color: #bbb;
  cursor: not-allowed;
}

/* Increase clickable area for label */
.radix-tree label {
  cursor: pointer;
  user-select: none;
  padding: 0.1em 0.2em;
  border-radius: 4px;
  transition: background 0.15s;
}
.radix-tree label:focus, .radix-tree label:hover {
  background: var(--grey);
}

/* --- style.css --- */
/* (TRUNCATED: Insert the full contents of style.css here, up to 1058 lines) */
`;document.head.appendChild(style)}factory(window.jQuery)}})(function($){const defaultData=[{label:"Universe",open:true,checked:false,children:[{label:"Galaxies",open:true,checked:false,children:[{label:"Milky Way",open:false,checked:false},{label:"Andromeda",open:false,checked:false,lazy:true}]},{label:"Black Holes",open:false,checked:false,children:[{label:"Supermassive",open:false,checked:false,lazy:true},{label:"Stellar-mass",open:false,checked:false,lazy:true}]},{label:"Nebulae",open:false,checked:false,lazy:true}]},{label:"Multiverse",open:false,checked:false,children:[{label:"Parallel Universe 1",checked:false,lazy:true},{label:"Parallel Universe 2",open:false,checked:false,lazy:true}]}];let radixTreeInstanceCounter=0;function randomString(len=6){return Math.random().toString(36).substr(2,len)}function setCheckedRecursive(node,checked){node.checked=checked;node.indeterminate=false;if(node.children&&node.children.length){node.children.forEach(child=>setCheckedRecursive(child,checked))}}function updateParentChecked(node,parent){if(!parent)return;const allChecked=parent.children.every(child=>child.checked);const noneChecked=parent.children.every(child=>!child.checked&&!child.indeterminate);if(allChecked){parent.checked=true;parent.indeterminate=false}else if(noneChecked){parent.checked=false;parent.indeterminate=false}else{parent.checked=false;parent.indeterminate=true}}function getSiblingNodes(node,idNodeMap){if(!node._radixParentId){const rootNodes=[];Object.values(idNodeMap).forEach(n=>{if(!n._radixParentId){rootNodes.push(n)}});return rootNodes.filter(n=>n._radixId!==node._radixId)}const parent=idNodeMap[node._radixParentId];if(!parent||!parent.children){return[]}return parent.children.filter(sibling=>sibling._radixId!==node._radixId)}function generateCheckboxId(path,idPrefix,checkboxIdCounter,node){if(node&&typeof node.id!=="undefined"&&node.id!==null){return idPrefix+"-checkbox-"+node.id}return idPrefix+"-checkbox-"+path.join("-")+"-"+checkboxIdCounter++}function buildIdNodeMap(data,path=[],map={},parentId=null,idPrefix="",checkboxIdCounter={val:0}){data.forEach((node,idx)=>{let id;if(typeof node.id!=="undefined"&&node.id!==null){id=idPrefix+"-checkbox-"+node.id}else{id=idPrefix+"-checkbox-"+[...path,idx].join("-")+"-"+checkboxIdCounter.val++}node._radixId=id;node._radixParentId=parentId;map[id]=node;if(node.children&&node.children.length){buildIdNodeMap(node.children,[...path,idx],map,id,idPrefix,checkboxIdCounter)}});return map}function collectOpenStates(data,path=[],openMap={}){data.forEach((node,idx)=>{const nodePath=[...path,idx].join("-");openMap[nodePath]=node.open===true;if(node.children&&node.children.length){collectOpenStates(node.children,[...path,idx],openMap)}});return openMap}function restoreOpenStates(data,openMap,path=[]){data.forEach((node,idx)=>{const nodePath=[...path,idx].join("-");if(typeof openMap[nodePath]!=="undefined"){node.open=openMap[nodePath]}if(node.children&&node.children.length){restoreOpenStates(node.children,openMap,[...path,idx])}})}function getFocusableElements(container){return $(container).find('[tabindex="0"]:visible').toArray()}function triggerInitialLazyLoad(node,settings,callbacks,path,idNodeMap,$container){if(node.open===true&&(node.lazy||node.infinite)&&!node._lazyLoaded&&typeof settings.lazyLoad==="function"){node._loading=true;settings.lazyLoad(node,function(children,hasMore){node.children=children;node._lazyLoaded=true;node._loading=false;node.hasMore=hasMore!==false;node._page=2;if($container&&$container.length){$container.empty();const idPrefix=$container.data("radixTreeIdPrefix");const checkboxIdCounter={val:0};const idNodeMap=buildIdNodeMap(settings.data,[],{},null,idPrefix,checkboxIdCounter);const $treeWrapper=$('<div class="radix-tree"></div>');$treeWrapper.append(renderTree(settings.data,callbacks,null,[],settings,idNodeMap,$container,false,idPrefix,checkboxIdCounter));$container.append($treeWrapper)}},{page:1,pageSize:node.pageSize||settings.pageSize},settings.lazyLoadDelay)}if(node.children&&node.children.length){node.children.forEach((child,idx)=>{triggerInitialLazyLoad(child,settings,callbacks,[...path,idx],idNodeMap,$container)})}}function renderTree(data,callbacks,parentNode=null,path=[],settings={},idNodeMap={},$container,parentDisabled=false,idPrefix="",checkboxIdCounter={val:0}){const rowHeight=32;const ul=document.createElement("ul");ul.className="tree";if(parentNode&&parentNode.infinite&&settings.pageSize>=settings.paginateThreshold&&(parentNode.children&&parentNode.children.length>=settings.pageSize)){if(settings.pageSize<10){ul.style.maxHeight=settings.pageSize*rowHeight+"px"}else{ul.style.maxHeight="300px"}ul.style.overflowY="auto";ul.setAttribute("data-infinite","true");setTimeout(()=>{if(!ul._infiniteScrollAttached){ul._infiniteScrollAttached=true;ul.addEventListener("scroll",function(){if(parentNode._loadingMore)return;if(ul.scrollTop+ul.clientHeight>=ul.scrollHeight-40){if(parentNode.hasMore&&typeof settings.lazyLoad==="function"){parentNode._loadingMore=true;const loadingLi=document.createElement("li");loadingLi.textContent="Loading...";loadingLi.className="radix-tree-loading";ul.appendChild(loadingLi);const prevScrollTop=ul.scrollTop;settings.lazyLoad(parentNode,function(children,hasMore){if(ul.contains(loadingLi))ul.removeChild(loadingLi);if(!parentNode.children)parentNode.children=[];parentNode.children=parentNode.children.concat(children);parentNode.hasMore=hasMore!==false;parentNode._loadingMore=false;const $container=$(ul).closest(".radix-tree");if($container.length){const details=ul.parentNode;if(details&&details.tagName==="DETAILS"){const scrollPos=ul.scrollTop;details.removeChild(ul);const newUl=renderTree(parentNode.children,callbacks,parentNode.infinite?parentNode:parentNode,path,settings,idNodeMap,$container);details.appendChild(newUl);newUl.scrollTop=scrollPos}else{$container.empty();const idPrefix=$container.data("radixTreeIdPrefix");const checkboxIdCounter={val:0};const idNodeMap=buildIdNodeMap(settings.data,[],{},null,idPrefix,checkboxIdCounter);const $treeWrapper=$('<div class="radix-tree"></div>');$treeWrapper.append(renderTree(settings.data,settings.callbacks,null,[],settings,idNodeMap,$container,false,idPrefix,checkboxIdCounter));$container.append($treeWrapper)}}},{page:parentNode._page||1,pageSize:parentNode.pageSize||settings.pageSize},settings.lazyLoadDelay);parentNode._page=(parentNode._page||1)+1}}})}},0)}data.forEach((node,idx)=>{const li=document.createElement("li");if(node.className){if(node.children&&node.children.length||node.lazy){li.classList.add(node.className)}else{li.classList.add(node.className)}}const isDisabled=!!node.disabled||!!parentDisabled;const checkboxId=generateCheckboxId([...path,idx],idPrefix,checkboxIdCounter.val,node);if(typeof node.id==="undefined"||node.id===null){checkboxIdCounter.val++}node._radixId=checkboxId;idNodeMap[node._radixId]=node;const checkbox=document.createElement("input");checkbox.type="checkbox";checkbox.id=checkboxId;if(typeof node.id!=="undefined"&&node.id!==null){checkbox.setAttribute("data-value",node.id)}checkbox.checked=!!node.checked;checkbox.indeterminate=!!node.indeterminate;checkbox.tabIndex=0;checkbox.style.position="absolute";checkbox.style.opacity=0;checkbox.style.width="1.2em";checkbox.style.height="1.2em";checkbox.style.margin=0;checkbox.style.zIndex=2;if(isDisabled){checkbox.disabled=true}checkbox.addEventListener("change",function(e){e.stopPropagation();setCheckedRecursive(node,checkbox.checked);if(parentNode){updateParentChecked(node,parentNode);let current=parentNode;let parent=idNodeMap[current._radixParentId];while(parent){updateParentChecked(current,parent);current=parent;parent=idNodeMap[current._radixParentId]}}let $container=$(checkbox).closest(".radix-tree-parent");if($container.length){let $scrollTree=$container.find('.tree[data-infinite="true"]');let scrollTop=$scrollTree.length?$scrollTree.scrollTop():null;const settings=$container.data("radixTreeSettings");const idPrefix=$container.data("radixTreeIdPrefix");const checkboxIdCounter={val:0};$container.empty();const idNodeMap=buildIdNodeMap(settings.data,[],{},null,idPrefix,checkboxIdCounter);const $treeWrapper=$('<div class="radix-tree"></div>');$treeWrapper.append(renderTree(settings.data,settings.callbacks,null,[],settings,idNodeMap,$container,false,idPrefix,checkboxIdCounter));$container.append($treeWrapper);if(scrollTop!==null){let $newScrollTree=$container.find('.tree[data-infinite="true"]');if($newScrollTree.length){$newScrollTree.scrollTop(scrollTop)}}}const siblingNodes=getSiblingNodes(node,idNodeMap);callbacks.onCheck&&callbacks.onCheck(node,checkbox,siblingNodes)});checkbox.addEventListener("keydown",function(e){handleKeyboardNav(e,checkbox,li)});li.appendChild(checkbox);const svgSpan=document.createElement("span");svgSpan.className="radix-checkbox-svg";svgSpan.innerHTML=`
        <svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="box">
          <rect x="3" y="3" width="18" height="18" rx="4" fill="#fff" stroke="#bbb" stroke-width="1.5"/>
          <path class="checkmark" d="M7 13l3 3 7-7" fill="none" stroke="#4caf50" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
          <rect class="indeterminate-bar" x="6" y="11" width="12" height="2.5" rx="1.2" fill="#ffc107"/>
        </svg>
      `;function updateSvgState(){if(checkbox.checked){svgSpan.classList.add("checked")}else{svgSpan.classList.remove("checked")}if(checkbox.indeterminate){svgSpan.classList.add("indeterminate")}else{svgSpan.classList.remove("indeterminate")}if(checkbox.disabled){svgSpan.classList.add("disabled")}else{svgSpan.classList.remove("disabled")}if(document.activeElement===checkbox){svgSpan.classList.add("focus")}else{svgSpan.classList.remove("focus")}}checkbox.addEventListener("change",updateSvgState);checkbox.addEventListener("focus",updateSvgState);checkbox.addEventListener("blur",updateSvgState);updateSvgState();svgSpan.addEventListener("click",function(e){if(!checkbox.disabled){checkbox.focus();checkbox.click()}});li.appendChild(svgSpan);const label=document.createElement("label");label.setAttribute("for",checkboxId);label.textContent=node.label;label.style.marginLeft="0.5em";label.tabIndex=0;if(isDisabled){label.classList.add("disabled");label.style.cursor="not-allowed"}label.addEventListener("keydown",function(e){handleKeyboardNav(e,label,li)});if(!(node.children&&node.children.length)&&!node.lazy){label.addEventListener("click",e=>{e.stopPropagation();callbacks.onClick&&callbacks.onClick(node,label)})}li.appendChild(label);if(typeof node.badge!=="undefined"){const badge=document.createElement("span");badge.className="radix-tree-badge";badge.textContent=node.badge;badge.setAttribute("aria-label","Badge: "+node.badge);badge.style.marginLeft="0.5em";badge.style.background="#eee";badge.style.borderRadius="10px";badge.style.padding="0 0.5em";badge.style.fontSize="0.85em";badge.style.color="#333";badge.style.display="inline-block";badge.style.verticalAlign="middle";li.appendChild(badge)}if(Array.isArray(node.tags)){node.tags.forEach(tag=>{const tagSpan=document.createElement("span");tagSpan.className="radix-tree-tag";tagSpan.textContent=tag;tagSpan.setAttribute("aria-label","Tag: "+tag);tagSpan.style.marginLeft="0.3em";tagSpan.style.background="#cce5ff";tagSpan.style.borderRadius="6px";tagSpan.style.padding="0 0.4em";tagSpan.style.fontSize="0.8em";tagSpan.style.color="#0056b3";tagSpan.style.display="inline-block";tagSpan.style.verticalAlign="middle";li.appendChild(tagSpan)})}if(node.children&&node.children.length||node.lazy){const details=document.createElement("details");if(node.open===true)details.open=true;const summary=document.createElement("summary");summary.tabIndex=0;summary.addEventListener("keydown",function(e){handleKeyboardNav(e,summary,li)});summary.addEventListener("click",e=>{e.stopPropagation();const wasOpen=node.open;setTimeout(()=>{node.open=details.open;if(!wasOpen&&details.open){const siblings=getSiblingNodes(node,idNodeMap);callbacks.onExpand&&callbacks.onExpand(node,details,siblings)}else if(wasOpen&&!details.open){const siblings=getSiblingNodes(node,idNodeMap);callbacks.onCollapse&&callbacks.onCollapse(node,details,siblings)}if(details.open&&node.lazy&&!node._lazyLoaded&&typeof settings.lazyLoad==="function"){if(!node.children)node.children=[];node._loading=true;let $container=$(summary).closest(".radix-tree-parent");if($container.length){const idPrefix=$container.data("radixTreeIdPrefix");const checkboxIdCounter={val:0};const idNodeMap=buildIdNodeMap(settings.data,[],{},null,idPrefix,checkboxIdCounter);$container.empty();const $treeWrapper=$('<div class="radix-tree"></div>');$treeWrapper.append(renderTree(settings.data,settings.callbacks,null,[],settings,idNodeMap,$container,false,idPrefix,checkboxIdCounter));$container.append($treeWrapper)}settings.lazyLoad(node,function(children,hasMore){node.children=children;node._lazyLoaded=true;node._loading=false;node.hasMore=hasMore!==false;node._page=2;if($container.length){$container.empty();const idPrefix=$container.data("radixTreeIdPrefix");const checkboxIdCounter={val:0};const idNodeMap=buildIdNodeMap(settings.data,[],{},null,idPrefix,checkboxIdCounter);const $treeWrapper=$('<div class="radix-tree"></div>');$treeWrapper.append(renderTree(settings.data,settings.callbacks,null,[],settings,idNodeMap,$container,false,idPrefix,checkboxIdCounter));$container.append($treeWrapper)}},{page:1,pageSize:node.pageSize||settings.pageSize},settings.lazyLoadDelay)}},0);callbacks.onClick&&callbacks.onClick(node,summary)});details.appendChild(summary);if(node._loading){const loadingLi=document.createElement("li");loadingLi.textContent="Loading...";details.appendChild(document.createElement("ul")).appendChild(loadingLi)}else if(node.children&&node.children.length){details.appendChild(renderTree(node.children,callbacks,node.infinite?node:node,[...path,idx],settings,idNodeMap,$container,isDisabled,idPrefix,checkboxIdCounter))}li.appendChild(details)}ul.appendChild(li)});if(parentNode&&parentNode.infinite&&settings.pageSize>=settings.paginateThreshold&&(parentNode.children&&parentNode.children.length>=settings.pageSize)){if(ul.lastElementChild){ul.lastElementChild.style.paddingBottom=rowHeight/3+"px"}}return ul}function handleKeyboardNav(e,currentElem,li){let $container=$(li).closest(".radix-tree-parent");if(!$container.length)$container=$(li).parent();if(!$container.length)return;const focusables=getFocusableElements($container);const idx=focusables.indexOf(currentElem);if(e.key==="ArrowDown"){e.preventDefault();if(idx<focusables.length-1)focusables[idx+1].focus()}else if(e.key==="ArrowUp"){e.preventDefault();if(idx>0)focusables[idx-1].focus()}else if(e.key==="ArrowRight"){const details=li.querySelector("details");if(details&&!details.open){e.preventDefault();details.open=true;const summary=details.querySelector("summary");if(summary)summary.click()}}else if(e.key==="ArrowLeft"){const details=li.querySelector("details");if(details&&details.open){e.preventDefault();details.open=false;const summary=details.querySelector("summary");if(summary)summary.click()}}else if(e.key===" "||e.key==="Enter"){e.preventDefault();if(currentElem.tagName==="INPUT"&&currentElem.type==="checkbox"){currentElem.checked=!currentElem.checked;currentElem.dispatchEvent(new Event("change",{bubbles:true}))}else if(currentElem.tagName==="SUMMARY"){currentElem.click()}else if(currentElem.tagName==="LABEL"){currentElem.click()}}}$.fn.radixTree=function(optionsOrCommand){if(typeof optionsOrCommand==="string"){const command=optionsOrCommand;const args=Array.prototype.slice.call(arguments,1);const $container=this.first();const settings=$container.data("radixTreeSettings");if(!settings)return;const idNodeMap=buildIdNodeMap(settings.data);switch(command){case"getChecked":const checked=[];const idPrefix=$container.data("radixTreeIdPrefix");const checkboxIdCounter={val:0};const currentIdNodeMap=buildIdNodeMap(settings.data,[],{},null,idPrefix,checkboxIdCounter);function collectChecked(nodes){nodes.forEach(node=>{if(node.checked)checked.push({id:node._radixId,label:node.label,node:node});if(node.children)collectChecked(node.children)})}collectChecked(settings.data);return checked;case"setChecked":{const[id,checkedVal]=args;const idPrefix=$container.data("radixTreeIdPrefix");const checkboxIdCounter={val:0};const idNodeMap=buildIdNodeMap(settings.data,[],{},null,idPrefix,checkboxIdCounter);const node=idNodeMap[id];if(node){setCheckedRecursive(node,checkedVal);function updateParents(node,idNodeMap){if(!node._radixParentId)return;const parent=idNodeMap[node._radixParentId];if(parent){updateParentChecked(node,parent);updateParents(parent,idNodeMap)}}updateParents(node,idNodeMap);$container.empty();const $treeWrapper=$('<div class="radix-tree"></div>');$treeWrapper.append(renderTree(settings.data,settings.callbacks,null,[],settings,idNodeMap,$container,false,idPrefix,checkboxIdCounter));$container.append($treeWrapper)}return}case"expand":{const[id]=args;const node=idNodeMap[id];if(node){node.open=true;$container.empty();const idPrefix=$container.data("radixTreeIdPrefix");const checkboxIdCounter={val:0};const idNodeMap=buildIdNodeMap(settings.data,[],{},null,idPrefix,checkboxIdCounter);const $treeWrapper=$('<div class="radix-tree"></div>');$treeWrapper.append(renderTree(settings.data,settings.callbacks,null,[],settings,idNodeMap,$container,false,idPrefix,checkboxIdCounter));$container.append($treeWrapper)}return}case"collapse":{const[id]=args;const node=idNodeMap[id];if(node){node.open=false;$container.empty();const idPrefix=$container.data("radixTreeIdPrefix");const checkboxIdCounter={val:0};const idNodeMap=buildIdNodeMap(settings.data,[],{},null,idPrefix,checkboxIdCounter);const $treeWrapper=$('<div class="radix-tree"></div>');$treeWrapper.append(renderTree(settings.data,settings.callbacks,null,[],settings,idNodeMap,$container,false,idPrefix,checkboxIdCounter));$container.append($treeWrapper)}return}case"getData":return settings.data;case"setData":{const[newData]=args;settings.data=newData;$container.empty();const idPrefix=$container.data("radixTreeIdPrefix");const checkboxIdCounter={val:0};const idNodeMap=buildIdNodeMap(settings.data,[],{},null,idPrefix,checkboxIdCounter);const $treeWrapper=$('<div class="radix-tree"></div>');$treeWrapper.append(renderTree(settings.data,settings.callbacks,null,[],settings,idNodeMap,$container,false,idPrefix,checkboxIdCounter));$container.append($treeWrapper);return}case"getSiblings":{const[nodeId]=args;const idPrefix=$container.data("radixTreeIdPrefix");const checkboxIdCounter={val:0};const currentIdNodeMap=buildIdNodeMap(settings.data,[],{},null,idPrefix,checkboxIdCounter);const node=currentIdNodeMap[nodeId];if(node){return getSiblingNodes(node,currentIdNodeMap)}return[]}}return}const settings=$.extend({data:defaultData,onExpand:null,onCollapse:null,onClick:null,onCheck:null,lazyLoadDelay:1e3,pageSize:20,lazyLoad:function(node,done){setTimeout(function(){let children=[];switch(node.label){case"Planets":children=[{label:"Mercury",checked:false},{label:"Venus",checked:false},{label:"Earth",open:false,checked:false,lazy:true},{label:"Mars",checked:false},{label:"Jupiter",checked:false},{label:"Saturn",checked:false},{label:"Uranus",checked:false},{label:"Neptune",checked:false}];break;case"Asteroid Belt":children=[{label:"Ceres",checked:false},{label:"Vesta",checked:false},{label:"Pallas",checked:false},{label:"Hygiea",checked:false}];break;case"Alpha Centauri System":children=[{label:"Alpha Centauri A",checked:false},{label:"Alpha Centauri B",checked:false},{label:"Proxima Centauri",checked:false}];break;case"Andromeda":children=[{label:"Star System 1",checked:false},{label:"Star System 2",checked:false}];break;case"Supermassive":children=[{label:"Sagittarius A*",checked:false},{label:"M87*",checked:false}];break;case"Stellar-mass":children=[{label:"Cygnus X-1",checked:false},{label:"V404 Cygni",checked:false}];break;case"Nebulae":children=[{label:"Orion Nebula",checked:false},{label:"Crab Nebula",checked:false},{label:"Eagle Nebula",checked:false}];break;case"Earth":children=[{label:"Moon",checked:false},{label:"ISS",checked:false}];break;case"Parallel Universe 1":children=[{label:"Alt Galaxy",checked:false,lazy:true}];break;case"Parallel Universe 2":children=[{label:"Alt Galaxy",checked:false,lazy:true}];break;case"Alt Galaxy":children=[{label:"Alt Solar System",checked:false,lazy:true}];break;case"Alt Solar System":children=[{label:"Alt Earth",checked:false,lazy:true}];break;case"Alt Earth":children=[{label:"Alt Moon",checked:false},{label:"Alt Mars",checked:false}];break;default:children=[{label:"Loading complete",checked:false}]}done(children)},settings.lazyLoadDelay)}},optionsOrCommand);if(typeof settings.paginateThreshold==="undefined"){settings.paginateThreshold=Math.min(10,settings.pageSize)}settings.callbacks={onExpand:settings.onExpand,onCollapse:settings.onCollapse,onClick:settings.onClick,onCheck:settings.onCheck};return this.each(function(){const $container=$(this);$container.empty();$container.addClass("radix-tree-parent");if(settings.rootClassName){$container.addClass(settings.rootClassName)}$container.data("radixTreeSettings",settings);if(typeof $container.data("radixTreeIdPrefix")==="undefined"){const instanceId=++radixTreeInstanceCounter;const rand=randomString(6);$container.data("radixTreeIdPrefix","radix-tree-"+instanceId+"-"+rand)}const idPrefix=$container.data("radixTreeIdPrefix");const checkboxIdCounter={val:0};const idNodeMap=buildIdNodeMap(settings.data,[],{},null,idPrefix,checkboxIdCounter);settings.data.forEach((node,idx)=>{triggerInitialLazyLoad(node,settings,settings.callbacks,[idx],idNodeMap,$container)});const $treeWrapper=$('<div class="radix-tree"></div>');$treeWrapper.append(renderTree(settings.data,settings.callbacks,null,[],settings,idNodeMap,$container,false,idPrefix,checkboxIdCounter));$container.append($treeWrapper)})}});